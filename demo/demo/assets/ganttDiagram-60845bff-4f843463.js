var An=Object.defineProperty;var i=(t,e)=>An(t,"name",{value:e,configurable:!0});import{N as $e,O as Ke,R as tn,P as en,Q as In,T as ne,U as Wn,V as rt,c as Mt,s as On,g as Hn,x as zn,y as Nn,b as Vn,a as Pn,e as Rn,A as Bn,o as Zn,l as de,i as Zt,j as qn,k as Xn,z as Gn}from"./mermaid-a98f434b-6ad3a326.js";import{c as we}from"./_commonjsHelpers-df0bf62c.js";import{b as Qn,t as Oe,c as jn,a as Jn,l as $n}from"./linear-a5830846.js";import{i as Kn}from"./init-ea36a1ad.js";import"./preload-helper-d51aff73.js";import"./index-32ac9e7b.js";import"./memoize-a38ec700.js";import"./_MapCache-7e836c94.js";import"./isArray-6de4a062.js";import"./_getTag-9b3eabd6.js";function tr(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let s of t)(s=e(s,++r,t))!=null&&(n<s||n===void 0&&s>=s)&&(n=s)}return n}i(tr,"max");function er(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let s of t)(s=e(s,++r,t))!=null&&(n>s||n===void 0&&s>=s)&&(n=s)}return n}i(er,"min");function nr(t){return t}i(nr,"identity");var Xt=1,re=2,me=3,qt=4,He=1e-6;function rr(t){return"translate("+t+",0)"}i(rr,"translateX");function ir(t){return"translate(0,"+t+")"}i(ir,"translateY");function sr(t){return e=>+t(e)}i(sr,"number$1");function ar(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}i(ar,"center");function or(){return!this.__axis}i(or,"entering");function nn(t,e){var n=[],r=null,s=null,o=6,c=6,y=3,S=typeof window<"u"&&window.devicePixelRatio>1?0:.5,k=t===Xt||t===qt?-1:1,M=t===qt||t===re?"x":"y",F=t===Xt||t===me?rr:ir;function C(w){var X=r??(e.ticks?e.ticks.apply(e,n):e.domain()),m=s??(e.tickFormat?e.tickFormat.apply(e,n):nr),E=Math.max(o,0)+y,N=e.range(),z=+N[0]+S,Z=+N[N.length-1]+S,q=(e.bandwidth?ar:sr)(e.copy(),S),j=w.selection?w.selection():w,x=j.selectAll(".domain").data([null]),W=j.selectAll(".tick").data(X,e).order(),b=W.exit(),U=W.enter().append("g").attr("class","tick"),_=W.select("line"),D=W.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),W=W.merge(U),_=_.merge(U.append("line").attr("stroke","currentColor").attr(M+"2",k*o)),D=D.merge(U.append("text").attr("fill","currentColor").attr(M,k*E).attr("dy",t===Xt?"0em":t===me?"0.71em":"0.32em")),w!==j&&(x=x.transition(w),W=W.transition(w),_=_.transition(w),D=D.transition(w),b=b.transition(w).attr("opacity",He).attr("transform",function(T){return isFinite(T=q(T))?F(T+S):this.getAttribute("transform")}),U.attr("opacity",He).attr("transform",function(T){var O=this.parentNode.__axis;return F((O&&isFinite(O=O(T))?O:q(T))+S)})),b.remove(),x.attr("d",t===qt||t===re?c?"M"+k*c+","+z+"H"+S+"V"+Z+"H"+k*c:"M"+S+","+z+"V"+Z:c?"M"+z+","+k*c+"V"+S+"H"+Z+"V"+k*c:"M"+z+","+S+"H"+Z),W.attr("opacity",1).attr("transform",function(T){return F(q(T)+S)}),_.attr(M+"2",k*o),D.attr(M,k*E).text(m),j.filter(or).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===re?"start":t===qt?"end":"middle"),j.each(function(){this.__axis=q})}return i(C,"axis"),C.scale=function(w){return arguments.length?(e=w,C):e},C.ticks=function(){return n=Array.from(arguments),C},C.tickArguments=function(w){return arguments.length?(n=w==null?[]:Array.from(w),C):n.slice()},C.tickValues=function(w){return arguments.length?(r=w==null?null:Array.from(w),C):r&&r.slice()},C.tickFormat=function(w){return arguments.length?(s=w,C):s},C.tickSize=function(w){return arguments.length?(o=c=+w,C):o},C.tickSizeInner=function(w){return arguments.length?(o=+w,C):o},C.tickSizeOuter=function(w){return arguments.length?(c=+w,C):c},C.tickPadding=function(w){return arguments.length?(y=+w,C):y},C.offset=function(w){return arguments.length?(S=+w,C):S},C}i(nn,"axis");function cr(t){return nn(Xt,t)}i(cr,"axisTop");function lr(t){return nn(me,t)}i(lr,"axisBottom");const ur=Math.PI/180,fr=180/Math.PI,jt=18,rn=.96422,sn=1,an=.82521,on=4/29,_t=6/29,cn=3*_t*_t,hr=_t*_t*_t;function ln(t){if(t instanceof at)return new at(t.l,t.a,t.b,t.opacity);if(t instanceof ht)return un(t);t instanceof tn||(t=In(t));var e=oe(t.r),n=oe(t.g),r=oe(t.b),s=ie((.2225045*e+.7168786*n+.0606169*r)/sn),o,c;return e===n&&n===r?o=c=s:(o=ie((.4360747*e+.3850649*n+.1430804*r)/rn),c=ie((.0139322*e+.0971045*n+.7141733*r)/an)),new at(116*s-16,500*(o-s),200*(s-c),t.opacity)}i(ln,"labConvert");function dr(t,e,n,r){return arguments.length===1?ln(t):new at(t,e,n,r??1)}i(dr,"lab");function at(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}i(at,"Lab");$e(at,dr,Ke(en,{brighter(t){return new at(this.l+jt*(t??1),this.a,this.b,this.opacity)},darker(t){return new at(this.l-jt*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=rn*se(e),t=sn*se(t),n=an*se(n),new tn(ae(3.1338561*e-1.6168667*t-.4906146*n),ae(-.9787684*e+1.9161415*t+.033454*n),ae(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function ie(t){return t>hr?Math.pow(t,1/3):t/cn+on}i(ie,"xyz2lab");function se(t){return t>_t?t*t*t:cn*(t-on)}i(se,"lab2xyz");function ae(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}i(ae,"lrgb2rgb");function oe(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}i(oe,"rgb2lrgb");function mr(t){if(t instanceof ht)return new ht(t.h,t.c,t.l,t.opacity);if(t instanceof at||(t=ln(t)),t.a===0&&t.b===0)return new ht(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*fr;return new ht(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}i(mr,"hclConvert");function ge(t,e,n,r){return arguments.length===1?mr(t):new ht(t,e,n,r??1)}i(ge,"hcl$1");function ht(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}i(ht,"Hcl");function un(t){if(isNaN(t.h))return new at(t.l,0,0,t.opacity);var e=t.h*ur;return new at(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}i(un,"hcl2lab");$e(ht,ge,Ke(en,{brighter(t){return new ht(this.h,this.c,this.l+jt*(t??1),this.opacity)},darker(t){return new ht(this.h,this.c,this.l-jt*(t??1),this.opacity)},rgb(){return un(this).rgb()}}));function gr(t){return function(e,n){var r=t((e=ge(e)).h,(n=ge(n)).h),s=ne(e.c,n.c),o=ne(e.l,n.l),c=ne(e.opacity,n.opacity);return function(y){return e.h=r(y),e.c=s(y),e.l=o(y),e.opacity=c(y),e+""}}}i(gr,"hcl");const yr=gr(Wn);function kr(t,e){t=t.slice();var n=0,r=t.length-1,s=t[n],o=t[r],c;return o<s&&(c=n,n=r,r=c,c=s,s=o,o=c),t[n]=e.floor(s),t[r]=e.ceil(o),t}i(kr,"nice");const ce=new Date,le=new Date;function et(t,e,n,r){function s(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i(s,"interval"),s.floor=o=>(t(o=new Date(+o)),o),s.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),s.round=o=>{const c=s(o),y=s.ceil(o);return o-c<y-o?c:y},s.offset=(o,c)=>(e(o=new Date(+o),c==null?1:Math.floor(c)),o),s.range=(o,c,y)=>{const S=[];if(o=s.ceil(o),y=y==null?1:Math.floor(y),!(o<c)||!(y>0))return S;let k;do S.push(k=new Date(+o)),e(o,y),t(o);while(k<o&&o<c);return S},s.filter=o=>et(c=>{if(c>=c)for(;t(c),!o(c);)c.setTime(c-1)},(c,y)=>{if(c>=c)if(y<0)for(;++y<=0;)for(;e(c,-1),!o(c););else for(;--y>=0;)for(;e(c,1),!o(c););}),n&&(s.count=(o,c)=>(ce.setTime(+o),le.setTime(+c),t(ce),t(le),Math.floor(n(ce,le))),s.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?s.filter(r?c=>r(c)%o===0:c=>s.count(0,c)%o===0):s)),s}i(et,"timeInterval");const Jt=et(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Jt.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?et(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Jt);Jt.range;const dt=1e3,it=dt*60,mt=it*60,gt=mt*24,Ce=gt*7,ze=gt*30,ue=gt*365,Dt=et(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*dt)},(t,e)=>(e-t)/dt,t=>t.getUTCSeconds());Dt.range;const It=et(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*dt)},(t,e)=>{t.setTime(+t+e*it)},(t,e)=>(e-t)/it,t=>t.getMinutes());It.range;const fn=et(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*it)},(t,e)=>(e-t)/it,t=>t.getUTCMinutes());fn.range;const Wt=et(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*dt-t.getMinutes()*it)},(t,e)=>{t.setTime(+t+e*mt)},(t,e)=>(e-t)/mt,t=>t.getHours());Wt.range;const hn=et(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*mt)},(t,e)=>(e-t)/mt,t=>t.getUTCHours());hn.range;const pt=et(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*it)/gt,t=>t.getDate()-1);pt.range;const De=et(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/gt,t=>t.getUTCDate()-1);De.range;const dn=et(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/gt,t=>Math.floor(t/gt));dn.range;function vt(t){return et(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*it)/Ce)}i(vt,"timeWeekday");const zt=vt(0),Ot=vt(1),mn=vt(2),gn=vt(3),Tt=vt(4),yn=vt(5),kn=vt(6);zt.range;Ot.range;mn.range;gn.range;Tt.range;yn.range;kn.range;function bt(t){return et(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Ce)}i(bt,"utcWeekday");const Me=bt(0),$t=bt(1),pr=bt(2),Tr=bt(3),Ut=bt(4),vr=bt(5),br=bt(6);Me.range;$t.range;pr.range;Tr.range;Ut.range;vr.range;br.range;const Ht=et(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Ht.range;const pn=et(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());pn.range;const yt=et(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());yt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:et(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});yt.range;const kt=et(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());kt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:et(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});kt.range;function Tn(t,e,n,r,s,o){const c=[[Dt,1,dt],[Dt,5,5*dt],[Dt,15,15*dt],[Dt,30,30*dt],[o,1,it],[o,5,5*it],[o,15,15*it],[o,30,30*it],[s,1,mt],[s,3,3*mt],[s,6,6*mt],[s,12,12*mt],[r,1,gt],[r,2,2*gt],[n,1,Ce],[e,1,ze],[e,3,3*ze],[t,1,ue]];function y(k,M,F){const C=M<k;C&&([k,M]=[M,k]);const w=F&&typeof F.range=="function"?F:S(k,M,F),X=w?w.range(k,+M+1):[];return C?X.reverse():X}i(y,"ticks");function S(k,M,F){const C=Math.abs(M-k)/F,w=Qn(([,,E])=>E).right(c,C);if(w===c.length)return t.every(Oe(k/ue,M/ue,F));if(w===0)return Jt.every(Math.max(Oe(k,M,F),1));const[X,m]=c[C/c[w-1][2]<c[w][2]/C?w-1:w];return X.every(m)}return i(S,"tickInterval"),[y,S]}i(Tn,"ticker");Tn(kt,pn,Me,dn,hn,fn);const[xr,wr]=Tn(yt,Ht,zt,pt,Wt,It);function fe(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}i(fe,"localDate");function he(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}i(he,"utcDate");function Lt(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}i(Lt,"newDate");function Cr(t){var e=t.dateTime,n=t.date,r=t.time,s=t.periods,o=t.days,c=t.shortDays,y=t.months,S=t.shortMonths,k=Et(s),M=At(s),F=Et(o),C=At(o),w=Et(c),X=At(c),m=Et(y),E=At(y),N=Et(S),z=At(S),Z={a:p,A:v,b:g,B:u,c:null,d:Ze,e:Ze,f:Xr,g:ri,G:si,H:Br,I:Zr,j:qr,L:vn,m:Gr,M:Qr,p:a,q:B,Q:Ge,s:Qe,S:jr,u:Jr,U:$r,V:Kr,w:ti,W:ei,x:null,X:null,y:ni,Y:ii,Z:ai,"%":Xe},q={a:l,A:H,b:J,B:G,c:null,d:qe,e:qe,f:ui,g:vi,G:xi,H:oi,I:ci,j:li,L:xn,m:fi,M:hi,p:ot,q:ct,Q:Ge,s:Qe,S:di,u:mi,U:gi,V:yi,w:ki,W:pi,x:null,X:null,y:Ti,Y:bi,Z:wi,"%":Xe},j={a:_,A:D,b:T,B:O,c:A,d:Re,e:Re,f:Nr,g:Pe,G:Ve,H:Be,I:Be,j:Wr,L:zr,m:Ir,M:Or,p:U,q:Ar,Q:Pr,s:Rr,S:Hr,u:Ur,U:Yr,V:Fr,w:Sr,W:Lr,x:L,X:d,y:Pe,Y:Ve,Z:Er,"%":Vr};Z.x=x(n,Z),Z.X=x(r,Z),Z.c=x(e,Z),q.x=x(n,q),q.X=x(r,q),q.c=x(e,q);function x(h,Y){return function(I){var f=[],$=-1,V=0,P=h.length,Q,K,xt;for(I instanceof Date||(I=new Date(+I));++$<P;)h.charCodeAt($)===37&&(f.push(h.slice(V,$)),(K=Ne[Q=h.charAt(++$)])!=null?Q=h.charAt(++$):K=Q==="e"?" ":"0",(xt=Y[Q])&&(Q=xt(I,K)),f.push(Q),V=$+1);return f.push(h.slice(V,$)),f.join("")}}i(x,"newFormat");function W(h,Y){return function(I){var f=Lt(1900,void 0,1),$=b(f,h,I+="",0),V,P;if($!=I.length)return null;if("Q"in f)return new Date(f.Q);if("s"in f)return new Date(f.s*1e3+("L"in f?f.L:0));if(Y&&!("Z"in f)&&(f.Z=0),"p"in f&&(f.H=f.H%12+f.p*12),f.m===void 0&&(f.m="q"in f?f.q:0),"V"in f){if(f.V<1||f.V>53)return null;"w"in f||(f.w=1),"Z"in f?(V=he(Lt(f.y,0,1)),P=V.getUTCDay(),V=P>4||P===0?$t.ceil(V):$t(V),V=De.offset(V,(f.V-1)*7),f.y=V.getUTCFullYear(),f.m=V.getUTCMonth(),f.d=V.getUTCDate()+(f.w+6)%7):(V=fe(Lt(f.y,0,1)),P=V.getDay(),V=P>4||P===0?Ot.ceil(V):Ot(V),V=pt.offset(V,(f.V-1)*7),f.y=V.getFullYear(),f.m=V.getMonth(),f.d=V.getDate()+(f.w+6)%7)}else("W"in f||"U"in f)&&("w"in f||(f.w="u"in f?f.u%7:"W"in f?1:0),P="Z"in f?he(Lt(f.y,0,1)).getUTCDay():fe(Lt(f.y,0,1)).getDay(),f.m=0,f.d="W"in f?(f.w+6)%7+f.W*7-(P+5)%7:f.w+f.U*7-(P+6)%7);return"Z"in f?(f.H+=f.Z/100|0,f.M+=f.Z%100,he(f)):fe(f)}}i(W,"newParse");function b(h,Y,I,f){for(var $=0,V=Y.length,P=I.length,Q,K;$<V;){if(f>=P)return-1;if(Q=Y.charCodeAt($++),Q===37){if(Q=Y.charAt($++),K=j[Q in Ne?Y.charAt($++):Q],!K||(f=K(h,I,f))<0)return-1}else if(Q!=I.charCodeAt(f++))return-1}return f}i(b,"parseSpecifier");function U(h,Y,I){var f=k.exec(Y.slice(I));return f?(h.p=M.get(f[0].toLowerCase()),I+f[0].length):-1}i(U,"parsePeriod");function _(h,Y,I){var f=w.exec(Y.slice(I));return f?(h.w=X.get(f[0].toLowerCase()),I+f[0].length):-1}i(_,"parseShortWeekday");function D(h,Y,I){var f=F.exec(Y.slice(I));return f?(h.w=C.get(f[0].toLowerCase()),I+f[0].length):-1}i(D,"parseWeekday");function T(h,Y,I){var f=N.exec(Y.slice(I));return f?(h.m=z.get(f[0].toLowerCase()),I+f[0].length):-1}i(T,"parseShortMonth");function O(h,Y,I){var f=m.exec(Y.slice(I));return f?(h.m=E.get(f[0].toLowerCase()),I+f[0].length):-1}i(O,"parseMonth");function A(h,Y,I){return b(h,e,Y,I)}i(A,"parseLocaleDateTime");function L(h,Y,I){return b(h,n,Y,I)}i(L,"parseLocaleDate");function d(h,Y,I){return b(h,r,Y,I)}i(d,"parseLocaleTime");function p(h){return c[h.getDay()]}i(p,"formatShortWeekday");function v(h){return o[h.getDay()]}i(v,"formatWeekday");function g(h){return S[h.getMonth()]}i(g,"formatShortMonth");function u(h){return y[h.getMonth()]}i(u,"formatMonth");function a(h){return s[+(h.getHours()>=12)]}i(a,"formatPeriod");function B(h){return 1+~~(h.getMonth()/3)}i(B,"formatQuarter");function l(h){return c[h.getUTCDay()]}i(l,"formatUTCShortWeekday");function H(h){return o[h.getUTCDay()]}i(H,"formatUTCWeekday");function J(h){return S[h.getUTCMonth()]}i(J,"formatUTCShortMonth");function G(h){return y[h.getUTCMonth()]}i(G,"formatUTCMonth");function ot(h){return s[+(h.getUTCHours()>=12)]}i(ot,"formatUTCPeriod");function ct(h){return 1+~~(h.getUTCMonth()/3)}return i(ct,"formatUTCQuarter"),{format:function(h){var Y=x(h+="",Z);return Y.toString=function(){return h},Y},parse:function(h){var Y=W(h+="",!1);return Y.toString=function(){return h},Y},utcFormat:function(h){var Y=x(h+="",q);return Y.toString=function(){return h},Y},utcParse:function(h){var Y=W(h+="",!0);return Y.toString=function(){return h},Y}}}i(Cr,"formatLocale");var Ne={"-":"",_:" ",0:"0"},nt=/^\s*\d+/,Dr=/^%/,Mr=/[\\^$*+?|[\]().{}]/g;function R(t,e,n){var r=t<0?"-":"",s=(r?-t:t)+"",o=s.length;return r+(o<n?new Array(n-o+1).join(e)+s:s)}i(R,"pad");function _r(t){return t.replace(Mr,"\\$&")}i(_r,"requote");function Et(t){return new RegExp("^(?:"+t.map(_r).join("|")+")","i")}i(Et,"formatRe");function At(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}i(At,"formatLookup");function Sr(t,e,n){var r=nt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}i(Sr,"parseWeekdayNumberSunday");function Ur(t,e,n){var r=nt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}i(Ur,"parseWeekdayNumberMonday");function Yr(t,e,n){var r=nt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}i(Yr,"parseWeekNumberSunday");function Fr(t,e,n){var r=nt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}i(Fr,"parseWeekNumberISO");function Lr(t,e,n){var r=nt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}i(Lr,"parseWeekNumberMonday");function Ve(t,e,n){var r=nt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}i(Ve,"parseFullYear");function Pe(t,e,n){var r=nt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}i(Pe,"parseYear");function Er(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}i(Er,"parseZone");function Ar(t,e,n){var r=nt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}i(Ar,"parseQuarter");function Ir(t,e,n){var r=nt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}i(Ir,"parseMonthNumber");function Re(t,e,n){var r=nt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}i(Re,"parseDayOfMonth");function Wr(t,e,n){var r=nt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}i(Wr,"parseDayOfYear");function Be(t,e,n){var r=nt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}i(Be,"parseHour24");function Or(t,e,n){var r=nt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}i(Or,"parseMinutes");function Hr(t,e,n){var r=nt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}i(Hr,"parseSeconds");function zr(t,e,n){var r=nt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}i(zr,"parseMilliseconds");function Nr(t,e,n){var r=nt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}i(Nr,"parseMicroseconds");function Vr(t,e,n){var r=Dr.exec(e.slice(n,n+1));return r?n+r[0].length:-1}i(Vr,"parseLiteralPercent");function Pr(t,e,n){var r=nt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}i(Pr,"parseUnixTimestamp");function Rr(t,e,n){var r=nt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}i(Rr,"parseUnixTimestampSeconds");function Ze(t,e){return R(t.getDate(),e,2)}i(Ze,"formatDayOfMonth");function Br(t,e){return R(t.getHours(),e,2)}i(Br,"formatHour24");function Zr(t,e){return R(t.getHours()%12||12,e,2)}i(Zr,"formatHour12");function qr(t,e){return R(1+pt.count(yt(t),t),e,3)}i(qr,"formatDayOfYear");function vn(t,e){return R(t.getMilliseconds(),e,3)}i(vn,"formatMilliseconds");function Xr(t,e){return vn(t,e)+"000"}i(Xr,"formatMicroseconds");function Gr(t,e){return R(t.getMonth()+1,e,2)}i(Gr,"formatMonthNumber");function Qr(t,e){return R(t.getMinutes(),e,2)}i(Qr,"formatMinutes");function jr(t,e){return R(t.getSeconds(),e,2)}i(jr,"formatSeconds");function Jr(t){var e=t.getDay();return e===0?7:e}i(Jr,"formatWeekdayNumberMonday");function $r(t,e){return R(zt.count(yt(t)-1,t),e,2)}i($r,"formatWeekNumberSunday");function bn(t){var e=t.getDay();return e>=4||e===0?Tt(t):Tt.ceil(t)}i(bn,"dISO");function Kr(t,e){return t=bn(t),R(Tt.count(yt(t),t)+(yt(t).getDay()===4),e,2)}i(Kr,"formatWeekNumberISO");function ti(t){return t.getDay()}i(ti,"formatWeekdayNumberSunday");function ei(t,e){return R(Ot.count(yt(t)-1,t),e,2)}i(ei,"formatWeekNumberMonday");function ni(t,e){return R(t.getFullYear()%100,e,2)}i(ni,"formatYear");function ri(t,e){return t=bn(t),R(t.getFullYear()%100,e,2)}i(ri,"formatYearISO");function ii(t,e){return R(t.getFullYear()%1e4,e,4)}i(ii,"formatFullYear");function si(t,e){var n=t.getDay();return t=n>=4||n===0?Tt(t):Tt.ceil(t),R(t.getFullYear()%1e4,e,4)}i(si,"formatFullYearISO");function ai(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+R(e/60|0,"0",2)+R(e%60,"0",2)}i(ai,"formatZone");function qe(t,e){return R(t.getUTCDate(),e,2)}i(qe,"formatUTCDayOfMonth");function oi(t,e){return R(t.getUTCHours(),e,2)}i(oi,"formatUTCHour24");function ci(t,e){return R(t.getUTCHours()%12||12,e,2)}i(ci,"formatUTCHour12");function li(t,e){return R(1+De.count(kt(t),t),e,3)}i(li,"formatUTCDayOfYear");function xn(t,e){return R(t.getUTCMilliseconds(),e,3)}i(xn,"formatUTCMilliseconds");function ui(t,e){return xn(t,e)+"000"}i(ui,"formatUTCMicroseconds");function fi(t,e){return R(t.getUTCMonth()+1,e,2)}i(fi,"formatUTCMonthNumber");function hi(t,e){return R(t.getUTCMinutes(),e,2)}i(hi,"formatUTCMinutes");function di(t,e){return R(t.getUTCSeconds(),e,2)}i(di,"formatUTCSeconds");function mi(t){var e=t.getUTCDay();return e===0?7:e}i(mi,"formatUTCWeekdayNumberMonday");function gi(t,e){return R(Me.count(kt(t)-1,t),e,2)}i(gi,"formatUTCWeekNumberSunday");function wn(t){var e=t.getUTCDay();return e>=4||e===0?Ut(t):Ut.ceil(t)}i(wn,"UTCdISO");function yi(t,e){return t=wn(t),R(Ut.count(kt(t),t)+(kt(t).getUTCDay()===4),e,2)}i(yi,"formatUTCWeekNumberISO");function ki(t){return t.getUTCDay()}i(ki,"formatUTCWeekdayNumberSunday");function pi(t,e){return R($t.count(kt(t)-1,t),e,2)}i(pi,"formatUTCWeekNumberMonday");function Ti(t,e){return R(t.getUTCFullYear()%100,e,2)}i(Ti,"formatUTCYear");function vi(t,e){return t=wn(t),R(t.getUTCFullYear()%100,e,2)}i(vi,"formatUTCYearISO");function bi(t,e){return R(t.getUTCFullYear()%1e4,e,4)}i(bi,"formatUTCFullYear");function xi(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ut(t):Ut.ceil(t),R(t.getUTCFullYear()%1e4,e,4)}i(xi,"formatUTCFullYearISO");function wi(){return"+0000"}i(wi,"formatUTCZone");function Xe(){return"%"}i(Xe,"formatLiteralPercent");function Ge(t){return+t}i(Ge,"formatUnixTimestamp");function Qe(t){return Math.floor(+t/1e3)}i(Qe,"formatUnixTimestampSeconds");var Ct,Kt;Ci({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ci(t){return Ct=Cr(t),Kt=Ct.format,Ct.parse,Ct.utcFormat,Ct.utcParse,Ct}i(Ci,"defaultLocale");function Di(t){return new Date(t)}i(Di,"date");function Mi(t){return t instanceof Date?+t:+new Date(+t)}i(Mi,"number");function Cn(t,e,n,r,s,o,c,y,S,k){var M=jn(),F=M.invert,C=M.domain,w=k(".%L"),X=k(":%S"),m=k("%I:%M"),E=k("%I %p"),N=k("%a %d"),z=k("%b %d"),Z=k("%B"),q=k("%Y");function j(x){return(S(x)<x?w:y(x)<x?X:c(x)<x?m:o(x)<x?E:r(x)<x?s(x)<x?N:z:n(x)<x?Z:q)(x)}return i(j,"tickFormat"),M.invert=function(x){return new Date(F(x))},M.domain=function(x){return arguments.length?C(Array.from(x,Mi)):C().map(Di)},M.ticks=function(x){var W=C();return t(W[0],W[W.length-1],x??10)},M.tickFormat=function(x,W){return W==null?j:k(W)},M.nice=function(x){var W=C();return(!x||typeof x.range!="function")&&(x=e(W[0],W[W.length-1],x??10)),x?C(kr(W,x)):M},M.copy=function(){return Jn(M,Cn(t,e,n,r,s,o,c,y,S,k))},M}i(Cn,"calendar");function _i(){return Kn.apply(Cn(xr,wr,yt,Ht,zt,pt,Wt,It,Dt,Kt).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}i(_i,"time");var ye={},Si={get exports(){return ye},set exports(t){ye=t}};(function(t,e){(function(n,r){t.exports=r()})(we,function(){var n="day";return function(r,s,o){var c=i(function(k){return k.add(4-k.isoWeekday(),n)},"a"),y=s.prototype;y.isoWeekYear=function(){return c(this).year()},y.isoWeek=function(k){if(!this.$utils().u(k))return this.add(7*(k-this.isoWeek()),n);var M,F,C,w,X=c(this),m=(M=this.isoWeekYear(),F=this.$u,C=(F?o.utc:o)().year(M).startOf("year"),w=4-C.isoWeekday(),C.isoWeekday()>4&&(w+=7),C.add(w,n));return X.diff(m,"week")+1},y.isoWeekday=function(k){return this.$utils().u(k)?this.day()||7:this.day(this.day()%7?k:k-7)};var S=y.startOf;y.startOf=function(k,M){var F=this.$utils(),C=!!F.u(M)||M;return F.p(k)==="isoweek"?C?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):S.bind(this)(k,M)}}})})(Si);const Ui=ye;var ke={},Yi={get exports(){return ke},set exports(t){ke=t}};(function(t,e){(function(n,r){t.exports=r()})(we,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,s=/\d\d/,o=/\d\d?/,c=/\d*[^-_:/,()\s\d]+/,y={},S=i(function(m){return(m=+m)+(m>68?1900:2e3)},"s"),k=i(function(m){return function(E){this[m]=+E}},"a"),M=[/[+-]\d\d:?(\d\d)?|Z/,function(m){(this.zone||(this.zone={})).offset=function(E){if(!E||E==="Z")return 0;var N=E.match(/([+-]|\d\d)/g),z=60*N[1]+(+N[2]||0);return z===0?0:N[0]==="+"?-z:z}(m)}],F=i(function(m){var E=y[m];return E&&(E.indexOf?E:E.s.concat(E.f))},"h"),C=i(function(m,E){var N,z=y.meridiem;if(z){for(var Z=1;Z<=24;Z+=1)if(m.indexOf(z(Z,0,E))>-1){N=Z>12;break}}else N=m===(E?"pm":"PM");return N},"u"),w={A:[c,function(m){this.afternoon=C(m,!1)}],a:[c,function(m){this.afternoon=C(m,!0)}],S:[/\d/,function(m){this.milliseconds=100*+m}],SS:[s,function(m){this.milliseconds=10*+m}],SSS:[/\d{3}/,function(m){this.milliseconds=+m}],s:[o,k("seconds")],ss:[o,k("seconds")],m:[o,k("minutes")],mm:[o,k("minutes")],H:[o,k("hours")],h:[o,k("hours")],HH:[o,k("hours")],hh:[o,k("hours")],D:[o,k("day")],DD:[s,k("day")],Do:[c,function(m){var E=y.ordinal,N=m.match(/\d+/);if(this.day=N[0],E)for(var z=1;z<=31;z+=1)E(z).replace(/\[|\]/g,"")===m&&(this.day=z)}],M:[o,k("month")],MM:[s,k("month")],MMM:[c,function(m){var E=F("months"),N=(F("monthsShort")||E.map(function(z){return z.slice(0,3)})).indexOf(m)+1;if(N<1)throw new Error;this.month=N%12||N}],MMMM:[c,function(m){var E=F("months").indexOf(m)+1;if(E<1)throw new Error;this.month=E%12||E}],Y:[/[+-]?\d+/,k("year")],YY:[s,function(m){this.year=S(m)}],YYYY:[/\d{4}/,k("year")],Z:M,ZZ:M};function X(m){var E,N;E=m,N=y&&y.formats;for(var z=(m=E.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(U,_,D){var T=D&&D.toUpperCase();return _||N[D]||n[D]||N[T].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(O,A,L){return A||L.slice(1)})})).match(r),Z=z.length,q=0;q<Z;q+=1){var j=z[q],x=w[j],W=x&&x[0],b=x&&x[1];z[q]=b?{regex:W,parser:b}:j.replace(/^\[|\]$/g,"")}return function(U){for(var _={},D=0,T=0;D<Z;D+=1){var O=z[D];if(typeof O=="string")T+=O.length;else{var A=O.regex,L=O.parser,d=U.slice(T),p=A.exec(d)[0];L.call(_,p),U=U.replace(p,"")}}return function(v){var g=v.afternoon;if(g!==void 0){var u=v.hours;g?u<12&&(v.hours+=12):u===12&&(v.hours=0),delete v.afternoon}}(_),_}}return i(X,"c"),function(m,E,N){N.p.customParseFormat=!0,m&&m.parseTwoDigitYear&&(S=m.parseTwoDigitYear);var z=E.prototype,Z=z.parse;z.parse=function(q){var j=q.date,x=q.utc,W=q.args;this.$u=x;var b=W[1];if(typeof b=="string"){var U=W[2]===!0,_=W[3]===!0,D=U||_,T=W[2];_&&(T=W[2]),y=this.$locale(),!U&&T&&(y=N.Ls[T]),this.$d=function(d,p,v){try{if(["x","X"].indexOf(p)>-1)return new Date((p==="X"?1e3:1)*d);var g=X(p)(d),u=g.year,a=g.month,B=g.day,l=g.hours,H=g.minutes,J=g.seconds,G=g.milliseconds,ot=g.zone,ct=new Date,h=B||(u||a?1:ct.getDate()),Y=u||ct.getFullYear(),I=0;u&&!a||(I=a>0?a-1:ct.getMonth());var f=l||0,$=H||0,V=J||0,P=G||0;return ot?new Date(Date.UTC(Y,I,h,f,$,V,P+60*ot.offset*1e3)):v?new Date(Date.UTC(Y,I,h,f,$,V,P)):new Date(Y,I,h,f,$,V,P)}catch{return new Date("")}}(j,b,x),this.init(),T&&T!==!0&&(this.$L=this.locale(T).$L),D&&j!=this.format(b)&&(this.$d=new Date("")),y={}}else if(b instanceof Array)for(var O=b.length,A=1;A<=O;A+=1){W[1]=b[A-1];var L=N.apply(this,W);if(L.isValid()){this.$d=L.$d,this.$L=L.$L,this.init();break}A===O&&(this.$d=new Date(""))}else Z.call(this,q)}}})})(Yi);const Fi=ke;var pe={},Li={get exports(){return pe},set exports(t){pe=t}};(function(t,e){(function(n,r){t.exports=r()})(we,function(){return function(n,r){var s=r.prototype,o=s.format;s.format=function(c){var y=this,S=this.$locale();if(!this.isValid())return o.bind(this)(c);var k=this.$utils(),M=(c||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(F){switch(F){case"Q":return Math.ceil((y.$M+1)/3);case"Do":return S.ordinal(y.$D);case"gggg":return y.weekYear();case"GGGG":return y.isoWeekYear();case"wo":return S.ordinal(y.week(),"W");case"w":case"ww":return k.s(y.week(),F==="w"?1:2,"0");case"W":case"WW":return k.s(y.isoWeek(),F==="W"?1:2,"0");case"k":case"kk":return k.s(String(y.$H===0?24:y.$H),F==="k"?1:2,"0");case"X":return Math.floor(y.$d.getTime()/1e3);case"x":return y.$d.getTime();case"z":return"["+y.offsetName()+"]";case"zzz":return"["+y.offsetName("long")+"]";default:return F}});return o.bind(this)(M)}}})})(Li);const Ei=pe;var Te=function(){var t=i(function(L,d,p,v){for(p=p||{},v=L.length;v--;p[L[v]]=d);return p},"o"),e=[1,3],n=[1,5],r=[7,9,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,31,33,34,36,43,48],s=[1,32],o=[1,33],c=[1,34],y=[1,35],S=[1,36],k=[1,37],M=[1,38],F=[1,15],C=[1,16],w=[1,17],X=[1,18],m=[1,19],E=[1,20],N=[1,21],z=[1,22],Z=[1,24],q=[1,25],j=[1,26],x=[1,27],W=[1,28],b=[1,30],U=[1,39],_=[1,42],D=[5,7,9,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,31,33,34,36,43,48],T={trace:i(function(){},"trace"),yy:{},symbols_:{error:2,start:3,directive:4,gantt:5,document:6,EOF:7,line:8,SPACE:9,statement:10,NL:11,weekday:12,weekday_monday:13,weekday_tuesday:14,weekday_wednesday:15,weekday_thursday:16,weekday_friday:17,weekday_saturday:18,weekday_sunday:19,dateFormat:20,inclusiveEndDates:21,topAxis:22,axisFormat:23,tickInterval:24,excludes:25,includes:26,todayMarker:27,title:28,acc_title:29,acc_title_value:30,acc_descr:31,acc_descr_value:32,acc_descr_multiline_value:33,section:34,clickStatement:35,taskTxt:36,taskData:37,openDirective:38,typeDirective:39,closeDirective:40,":":41,argDirective:42,click:43,callbackname:44,callbackargs:45,href:46,clickStatementDebug:47,open_directive:48,type_directive:49,arg_directive:50,close_directive:51,$accept:0,$end:1},terminals_:{2:"error",5:"gantt",7:"EOF",9:"SPACE",11:"NL",13:"weekday_monday",14:"weekday_tuesday",15:"weekday_wednesday",16:"weekday_thursday",17:"weekday_friday",18:"weekday_saturday",19:"weekday_sunday",20:"dateFormat",21:"inclusiveEndDates",22:"topAxis",23:"axisFormat",24:"tickInterval",25:"excludes",26:"includes",27:"todayMarker",28:"title",29:"acc_title",30:"acc_title_value",31:"acc_descr",32:"acc_descr_value",33:"acc_descr_multiline_value",34:"section",36:"taskTxt",37:"taskData",41:":",43:"click",44:"callbackname",45:"callbackargs",46:"href",48:"open_directive",49:"type_directive",50:"arg_directive",51:"close_directive"},productions_:[0,[3,2],[3,3],[6,0],[6,2],[8,2],[8,1],[8,1],[8,1],[12,1],[12,1],[12,1],[12,1],[12,1],[12,1],[12,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[10,1],[10,1],[10,2],[10,1],[4,4],[4,6],[35,2],[35,3],[35,3],[35,4],[35,3],[35,4],[35,2],[47,2],[47,3],[47,3],[47,4],[47,3],[47,4],[47,2],[38,1],[39,1],[42,1],[40,1]],performAction:i(function(d,p,v,g,u,a,B){var l=a.length-1;switch(u){case 2:return a[l-1];case 3:this.$=[];break;case 4:a[l-1].push(a[l]),this.$=a[l-1];break;case 5:case 6:this.$=a[l];break;case 7:case 8:this.$=[];break;case 9:g.setWeekday("monday");break;case 10:g.setWeekday("tuesday");break;case 11:g.setWeekday("wednesday");break;case 12:g.setWeekday("thursday");break;case 13:g.setWeekday("friday");break;case 14:g.setWeekday("saturday");break;case 15:g.setWeekday("sunday");break;case 16:g.setDateFormat(a[l].substr(11)),this.$=a[l].substr(11);break;case 17:g.enableInclusiveEndDates(),this.$=a[l].substr(18);break;case 18:g.TopAxis(),this.$=a[l].substr(8);break;case 19:g.setAxisFormat(a[l].substr(11)),this.$=a[l].substr(11);break;case 20:g.setTickInterval(a[l].substr(13)),this.$=a[l].substr(13);break;case 21:g.setExcludes(a[l].substr(9)),this.$=a[l].substr(9);break;case 22:g.setIncludes(a[l].substr(9)),this.$=a[l].substr(9);break;case 23:g.setTodayMarker(a[l].substr(12)),this.$=a[l].substr(12);break;case 25:g.setDiagramTitle(a[l].substr(6)),this.$=a[l].substr(6);break;case 26:this.$=a[l].trim(),g.setAccTitle(this.$);break;case 27:case 28:this.$=a[l].trim(),g.setAccDescription(this.$);break;case 29:g.addSection(a[l].substr(8)),this.$=a[l].substr(8);break;case 31:g.addTask(a[l-1],a[l]),this.$="task";break;case 35:this.$=a[l-1],g.setClickEvent(a[l-1],a[l],null);break;case 36:this.$=a[l-2],g.setClickEvent(a[l-2],a[l-1],a[l]);break;case 37:this.$=a[l-2],g.setClickEvent(a[l-2],a[l-1],null),g.setLink(a[l-2],a[l]);break;case 38:this.$=a[l-3],g.setClickEvent(a[l-3],a[l-2],a[l-1]),g.setLink(a[l-3],a[l]);break;case 39:this.$=a[l-2],g.setClickEvent(a[l-2],a[l],null),g.setLink(a[l-2],a[l-1]);break;case 40:this.$=a[l-3],g.setClickEvent(a[l-3],a[l-1],a[l]),g.setLink(a[l-3],a[l-2]);break;case 41:this.$=a[l-1],g.setLink(a[l-1],a[l]);break;case 42:case 48:this.$=a[l-1]+" "+a[l];break;case 43:case 44:case 46:this.$=a[l-2]+" "+a[l-1]+" "+a[l];break;case 45:case 47:this.$=a[l-3]+" "+a[l-2]+" "+a[l-1]+" "+a[l];break;case 49:g.parseDirective("%%{","open_directive");break;case 50:g.parseDirective(a[l],"type_directive");break;case 51:a[l]=a[l].trim().replace(/'/g,'"'),g.parseDirective(a[l],"arg_directive");break;case 52:g.parseDirective("}%%","close_directive","gantt");break}},"anonymous"),table:[{3:1,4:2,5:e,38:4,48:n},{1:[3]},{3:6,4:2,5:e,38:4,48:n},t(r,[2,3],{6:7}),{39:8,49:[1,9]},{49:[2,49]},{1:[2,1]},{4:31,7:[1,10],8:11,9:[1,12],10:13,11:[1,14],12:23,13:s,14:o,15:c,16:y,17:S,18:k,19:M,20:F,21:C,22:w,23:X,24:m,25:E,26:N,27:z,28:Z,29:q,31:j,33:x,34:W,35:29,36:b,38:4,43:U,48:n},{40:40,41:[1,41],51:_},t([41,51],[2,50]),t(r,[2,8],{1:[2,2]}),t(r,[2,4]),{4:31,10:43,12:23,13:s,14:o,15:c,16:y,17:S,18:k,19:M,20:F,21:C,22:w,23:X,24:m,25:E,26:N,27:z,28:Z,29:q,31:j,33:x,34:W,35:29,36:b,38:4,43:U,48:n},t(r,[2,6]),t(r,[2,7]),t(r,[2,16]),t(r,[2,17]),t(r,[2,18]),t(r,[2,19]),t(r,[2,20]),t(r,[2,21]),t(r,[2,22]),t(r,[2,23]),t(r,[2,24]),t(r,[2,25]),{30:[1,44]},{32:[1,45]},t(r,[2,28]),t(r,[2,29]),t(r,[2,30]),{37:[1,46]},t(r,[2,32]),t(r,[2,9]),t(r,[2,10]),t(r,[2,11]),t(r,[2,12]),t(r,[2,13]),t(r,[2,14]),t(r,[2,15]),{44:[1,47],46:[1,48]},{11:[1,49]},{42:50,50:[1,51]},{11:[2,52]},t(r,[2,5]),t(r,[2,26]),t(r,[2,27]),t(r,[2,31]),t(r,[2,35],{45:[1,52],46:[1,53]}),t(r,[2,41],{44:[1,54]}),t(D,[2,33]),{40:55,51:_},{51:[2,51]},t(r,[2,36],{46:[1,56]}),t(r,[2,37]),t(r,[2,39],{45:[1,57]}),{11:[1,58]},t(r,[2,38]),t(r,[2,40]),t(D,[2,34])],defaultActions:{5:[2,49],6:[2,1],42:[2,52],51:[2,51]},parseError:i(function(d,p){if(p.recoverable)this.trace(d);else{var v=new Error(d);throw v.hash=p,v}},"parseError"),parse:i(function(d){var p=this,v=[0],g=[],u=[null],a=[],B=this.table,l="",H=0,J=0,G=2,ot=1,ct=a.slice.call(arguments,1),h=Object.create(this.lexer),Y={yy:{}};for(var I in this.yy)Object.prototype.hasOwnProperty.call(this.yy,I)&&(Y.yy[I]=this.yy[I]);h.setInput(d,Y.yy),Y.yy.lexer=h,Y.yy.parser=this,typeof h.yylloc>"u"&&(h.yylloc={});var f=h.yylloc;a.push(f);var $=h.options&&h.options.ranges;typeof Y.yy.parseError=="function"?this.parseError=Y.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function V(){var ut;return ut=g.pop()||h.lex()||ot,typeof ut!="number"&&(ut instanceof Array&&(g=ut,ut=g.pop()),ut=p.symbols_[ut]||ut),ut}i(V,"lex");for(var P,Q,K,xt,wt={},Rt,lt,We,Bt;;){if(Q=v[v.length-1],this.defaultActions[Q]?K=this.defaultActions[Q]:((P===null||typeof P>"u")&&(P=V()),K=B[Q]&&B[Q][P]),typeof K>"u"||!K.length||!K[0]){var ee="";Bt=[];for(Rt in B[Q])this.terminals_[Rt]&&Rt>G&&Bt.push("'"+this.terminals_[Rt]+"'");h.showPosition?ee="Parse error on line "+(H+1)+`:
`+h.showPosition()+`
Expecting `+Bt.join(", ")+", got '"+(this.terminals_[P]||P)+"'":ee="Parse error on line "+(H+1)+": Unexpected "+(P==ot?"end of input":"'"+(this.terminals_[P]||P)+"'"),this.parseError(ee,{text:h.match,token:this.terminals_[P]||P,line:h.yylineno,loc:f,expected:Bt})}if(K[0]instanceof Array&&K.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Q+", token: "+P);switch(K[0]){case 1:v.push(P),u.push(h.yytext),a.push(h.yylloc),v.push(K[1]),P=null,J=h.yyleng,l=h.yytext,H=h.yylineno,f=h.yylloc;break;case 2:if(lt=this.productions_[K[1]][1],wt.$=u[u.length-lt],wt._$={first_line:a[a.length-(lt||1)].first_line,last_line:a[a.length-1].last_line,first_column:a[a.length-(lt||1)].first_column,last_column:a[a.length-1].last_column},$&&(wt._$.range=[a[a.length-(lt||1)].range[0],a[a.length-1].range[1]]),xt=this.performAction.apply(wt,[l,J,H,Y.yy,K[1],u,a].concat(ct)),typeof xt<"u")return xt;lt&&(v=v.slice(0,-1*lt*2),u=u.slice(0,-1*lt),a=a.slice(0,-1*lt)),v.push(this.productions_[K[1]][0]),u.push(wt.$),a.push(wt._$),We=B[v[v.length-2]][v[v.length-1]],v.push(We);break;case 3:return!0}}return!0},"parse")},O=function(){var L={EOF:1,parseError:i(function(p,v){if(this.yy.parser)this.yy.parser.parseError(p,v);else throw new Error(p)},"parseError"),setInput:function(d,p){return this.yy=p||this.yy||{},this._input=d,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var d=this._input[0];this.yytext+=d,this.yyleng++,this.offset++,this.match+=d,this.matched+=d;var p=d.match(/(?:\r\n?|\n).*/g);return p?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),d},unput:function(d){var p=d.length,v=d.split(/(?:\r\n?|\n)/g);this._input=d+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-p),this.offset-=p;var g=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),v.length-1&&(this.yylineno-=v.length-1);var u=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:v?(v.length===g.length?this.yylloc.first_column:0)+g[g.length-v.length].length-v[0].length:this.yylloc.first_column-p},this.options.ranges&&(this.yylloc.range=[u[0],u[0]+this.yyleng-p]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(d){this.unput(this.match.slice(d))},pastInput:function(){var d=this.matched.substr(0,this.matched.length-this.match.length);return(d.length>20?"...":"")+d.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var d=this.match;return d.length<20&&(d+=this._input.substr(0,20-d.length)),(d.substr(0,20)+(d.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var d=this.pastInput(),p=new Array(d.length+1).join("-");return d+this.upcomingInput()+`
`+p+"^"},test_match:function(d,p){var v,g,u;if(this.options.backtrack_lexer&&(u={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(u.yylloc.range=this.yylloc.range.slice(0))),g=d[0].match(/(?:\r\n?|\n).*/g),g&&(this.yylineno+=g.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:g?g[g.length-1].length-g[g.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+d[0].length},this.yytext+=d[0],this.match+=d[0],this.matches=d,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(d[0].length),this.matched+=d[0],v=this.performAction.call(this,this.yy,this,p,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),v)return v;if(this._backtrack){for(var a in u)this[a]=u[a];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var d,p,v,g;this._more||(this.yytext="",this.match="");for(var u=this._currentRules(),a=0;a<u.length;a++)if(v=this._input.match(this.rules[u[a]]),v&&(!p||v[0].length>p[0].length)){if(p=v,g=a,this.options.backtrack_lexer){if(d=this.test_match(v,u[a]),d!==!1)return d;if(this._backtrack){p=!1;continue}else return!1}else if(!this.options.flex)break}return p?(d=this.test_match(p,u[g]),d!==!1?d:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:i(function(){var p=this.next();return p||this.lex()},"lex"),begin:i(function(p){this.conditionStack.push(p)},"begin"),popState:i(function(){var p=this.conditionStack.length-1;return p>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:i(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:i(function(p){return p=this.conditionStack.length-1-Math.abs(p||0),p>=0?this.conditionStack[p]:"INITIAL"},"topState"),pushState:i(function(p){this.begin(p)},"pushState"),stateStackSize:i(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:i(function(p,v,g,u){switch(g){case 0:return this.begin("open_directive"),48;case 1:return this.begin("type_directive"),49;case 2:return this.popState(),this.begin("arg_directive"),41;case 3:return this.popState(),this.popState(),51;case 4:return 50;case 5:return this.begin("acc_title"),29;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),31;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:break;case 13:break;case 14:break;case 15:return 11;case 16:break;case 17:break;case 18:break;case 19:this.begin("href");break;case 20:this.popState();break;case 21:return 46;case 22:this.begin("callbackname");break;case 23:this.popState();break;case 24:this.popState(),this.begin("callbackargs");break;case 25:return 44;case 26:this.popState();break;case 27:return 45;case 28:this.begin("click");break;case 29:this.popState();break;case 30:return 43;case 31:return 5;case 32:return 20;case 33:return 21;case 34:return 22;case 35:return 23;case 36:return 24;case 37:return 26;case 38:return 25;case 39:return 27;case 40:return 13;case 41:return 14;case 42:return 15;case 43:return 16;case 44:return 17;case 45:return 18;case 46:return 19;case 47:return"date";case 48:return 28;case 49:return"accDescription";case 50:return 34;case 51:return 36;case 52:return 37;case 53:return 41;case 54:return 7;case 55:return"INVALID"}},"anonymous"),rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:weekday\s+monday\b)/i,/^(?:weekday\s+tuesday\b)/i,/^(?:weekday\s+wednesday\b)/i,/^(?:weekday\s+thursday\b)/i,/^(?:weekday\s+friday\b)/i,/^(?:weekday\s+saturday\b)/i,/^(?:weekday\s+sunday\b)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[26,27],inclusive:!1},callbackname:{rules:[23,24,25],inclusive:!1},href:{rules:[20,21],inclusive:!1},click:{rules:[29,30],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,22,28,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55],inclusive:!0}}};return L}();T.lexer=O;function A(){this.yy={}}return i(A,"Parser"),A.prototype=T,T.Parser=A,new A}();Te.parser=Te;const Ai=Te;rt.extend(Ui);rt.extend(Fi);rt.extend(Ei);let st="",_e="",Se,Ue="",Nt=[],Vt=[],Ye={},Fe=[],te=[],Yt="",Le="";const Dn=["active","done","crit","milestone"];let Ee=[],Pt=!1,Ae=!1,Ie="sunday",ve=0;const Ii=i(function(t,e,n){Rn.parseDirective(this,t,e,n)},"parseDirective"),Wi=i(function(){Fe=[],te=[],Yt="",Ee=[],Gt=0,xe=void 0,Qt=void 0,tt=[],st="",_e="",Le="",Se=void 0,Ue="",Nt=[],Vt=[],Pt=!1,Ae=!1,ve=0,Ye={},Bn(),Ie="sunday"},"clear"),Oi=i(function(t){_e=t},"setAxisFormat"),Hi=i(function(){return _e},"getAxisFormat"),zi=i(function(t){Se=t},"setTickInterval"),Ni=i(function(){return Se},"getTickInterval"),Vi=i(function(t){Ue=t},"setTodayMarker"),Pi=i(function(){return Ue},"getTodayMarker"),Ri=i(function(t){st=t},"setDateFormat"),Bi=i(function(){Pt=!0},"enableInclusiveEndDates"),Zi=i(function(){return Pt},"endDatesAreInclusive"),qi=i(function(){Ae=!0},"enableTopAxis"),Xi=i(function(){return Ae},"topAxisEnabled"),Gi=i(function(t){Le=t},"setDisplayMode"),Qi=i(function(){return Le},"getDisplayMode"),ji=i(function(){return st},"getDateFormat"),Ji=i(function(t){Nt=t.toLowerCase().split(/[\s,]+/)},"setIncludes"),$i=i(function(){return Nt},"getIncludes"),Ki=i(function(t){Vt=t.toLowerCase().split(/[\s,]+/)},"setExcludes"),ts=i(function(){return Vt},"getExcludes"),es=i(function(){return Ye},"getLinks"),ns=i(function(t){Yt=t,Fe.push(t)},"addSection"),rs=i(function(){return Fe},"getSections"),is=i(function(){let t=je();const e=10;let n=0;for(;!t&&n<e;)t=je(),n++;return te=tt,te},"getTasks"),Mn=i(function(t,e,n,r){return r.includes(t.format(e.trim()))?!1:t.isoWeekday()>=6&&n.includes("weekends")||n.includes(t.format("dddd").toLowerCase())?!0:n.includes(t.format(e.trim()))},"isInvalidDate"),ss=i(function(t){Ie=t},"setWeekday"),as=i(function(){return Ie},"getWeekday"),_n=i(function(t,e,n,r){if(!n.length||t.manualEndTime)return;let s;t.startTime instanceof Date?s=rt(t.startTime):s=rt(t.startTime,e,!0),s=s.add(1,"d");let o;t.endTime instanceof Date?o=rt(t.endTime):o=rt(t.endTime,e,!0);const[c,y]=os(s,o,e,n,r);t.endTime=c.toDate(),t.renderEndTime=y},"checkTaskDates"),os=i(function(t,e,n,r,s){let o=!1,c=null;for(;t<=e;)o||(c=e.toDate()),o=Mn(t,n,r,s),o&&(e=e.add(1,"d")),t=t.add(1,"d");return[e,c]},"fixTaskDates"),be=i(function(t,e,n){n=n.trim();const s=/^after\s+([\d\w- ]+)/.exec(n.trim());if(s!==null){let c=null;if(s[1].split(" ").forEach(function(y){let S=Ft(y);S!==void 0&&(c?S.endTime>c.endTime&&(c=S):c=S)}),c)return c.endTime;{const y=new Date;return y.setHours(0,0,0,0),y}}let o=rt(n,e.trim(),!0);if(o.isValid())return o.toDate();{de.debug("Invalid date:"+n),de.debug("With date format:"+e.trim());const c=new Date(n);if(c===void 0||isNaN(c.getTime())||c.getFullYear()<-1e4||c.getFullYear()>1e4)throw new Error("Invalid date:"+n);return c}},"getStartDate"),Sn=i(function(t){const e=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(t.trim());return e!==null?[Number.parseFloat(e[1]),e[2]]:[NaN,"ms"]},"parseDuration"),Un=i(function(t,e,n,r=!1){n=n.trim();let s=rt(n,e.trim(),!0);if(s.isValid())return r&&(s=s.add(1,"d")),s.toDate();let o=rt(t);const[c,y]=Sn(n);if(!Number.isNaN(c)){const S=o.add(c,y);S.isValid()&&(o=S)}return o.toDate()},"getEndDate");let Gt=0;const St=i(function(t){return t===void 0?(Gt=Gt+1,"task"+Gt):t},"parseId"),cs=i(function(t,e){let n;e.substr(0,1)===":"?n=e.substr(1,e.length):n=e;const r=n.split(","),s={};En(r,s,Dn);for(let c=0;c<r.length;c++)r[c]=r[c].trim();let o="";switch(r.length){case 1:s.id=St(),s.startTime=t.endTime,o=r[0];break;case 2:s.id=St(),s.startTime=be(void 0,st,r[0]),o=r[1];break;case 3:s.id=St(r[0]),s.startTime=be(void 0,st,r[1]),o=r[2];break}return o&&(s.endTime=Un(s.startTime,st,o,Pt),s.manualEndTime=rt(o,"YYYY-MM-DD",!0).isValid(),_n(s,st,Vt,Nt)),s},"compileData"),ls=i(function(t,e){let n;e.substr(0,1)===":"?n=e.substr(1,e.length):n=e;const r=n.split(","),s={};En(r,s,Dn);for(let o=0;o<r.length;o++)r[o]=r[o].trim();switch(r.length){case 1:s.id=St(),s.startTime={type:"prevTaskEnd",id:t},s.endTime={data:r[0]};break;case 2:s.id=St(),s.startTime={type:"getStartDate",startData:r[0]},s.endTime={data:r[1]};break;case 3:s.id=St(r[0]),s.startTime={type:"getStartDate",startData:r[1]},s.endTime={data:r[2]};break}return s},"parseData");let xe,Qt,tt=[];const Yn={},us=i(function(t,e){const n={section:Yt,type:Yt,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:e},task:t,classes:[]},r=ls(Qt,e);n.raw.startTime=r.startTime,n.raw.endTime=r.endTime,n.id=r.id,n.prevTaskId=Qt,n.active=r.active,n.done=r.done,n.crit=r.crit,n.milestone=r.milestone,n.order=ve,ve++;const s=tt.push(n);Qt=n.id,Yn[n.id]=s-1},"addTask"),Ft=i(function(t){const e=Yn[t];return tt[e]},"findTaskById"),fs=i(function(t,e){const n={section:Yt,type:Yt,description:t,task:t,classes:[]},r=cs(xe,e);n.startTime=r.startTime,n.endTime=r.endTime,n.id=r.id,n.active=r.active,n.done=r.done,n.crit=r.crit,n.milestone=r.milestone,xe=n,te.push(n)},"addTaskOrg"),je=i(function(){const t=i(function(n){const r=tt[n];let s="";switch(tt[n].raw.startTime.type){case"prevTaskEnd":{const o=Ft(r.prevTaskId);r.startTime=o.endTime;break}case"getStartDate":s=be(void 0,st,tt[n].raw.startTime.startData),s&&(tt[n].startTime=s);break}return tt[n].startTime&&(tt[n].endTime=Un(tt[n].startTime,st,tt[n].raw.endTime.data,Pt),tt[n].endTime&&(tt[n].processed=!0,tt[n].manualEndTime=rt(tt[n].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),_n(tt[n],st,Vt,Nt))),tt[n].processed},"compileTask");let e=!0;for(const[n,r]of tt.entries())t(n),e=e&&r.processed;return e},"compileTasks"),hs=i(function(t,e){let n=e;Mt().securityLevel!=="loose"&&(n=Zn.sanitizeUrl(e)),t.split(",").forEach(function(r){Ft(r)!==void 0&&(Ln(r,()=>{window.open(n,"_self")}),Ye[r]=n)}),Fn(t,"clickable")},"setLink"),Fn=i(function(t,e){t.split(",").forEach(function(n){let r=Ft(n);r!==void 0&&r.classes.push(e)})},"setClass"),ds=i(function(t,e,n){if(Mt().securityLevel!=="loose"||e===void 0)return;let r=[];if(typeof n=="string"){r=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let o=0;o<r.length;o++){let c=r[o].trim();c.charAt(0)==='"'&&c.charAt(c.length-1)==='"'&&(c=c.substr(1,c.length-2)),r[o]=c}}r.length===0&&r.push(t),Ft(t)!==void 0&&Ln(t,()=>{Gn.runFunc(e,...r)})},"setClickFun"),Ln=i(function(t,e){Ee.push(function(){const n=document.querySelector(`[id="${t}"]`);n!==null&&n.addEventListener("click",function(){e()})},function(){const n=document.querySelector(`[id="${t}-text"]`);n!==null&&n.addEventListener("click",function(){e()})})},"pushFun"),ms=i(function(t,e,n){t.split(",").forEach(function(r){ds(r,e,n)}),Fn(t,"clickable")},"setClickEvent"),gs=i(function(t){Ee.forEach(function(e){e(t)})},"bindFunctions"),ys={parseDirective:Ii,getConfig:()=>Mt().gantt,clear:Wi,setDateFormat:Ri,getDateFormat:ji,enableInclusiveEndDates:Bi,endDatesAreInclusive:Zi,enableTopAxis:qi,topAxisEnabled:Xi,setAxisFormat:Oi,getAxisFormat:Hi,setTickInterval:zi,getTickInterval:Ni,setTodayMarker:Vi,getTodayMarker:Pi,setAccTitle:On,getAccTitle:Hn,setDiagramTitle:zn,getDiagramTitle:Nn,setDisplayMode:Gi,getDisplayMode:Qi,setAccDescription:Vn,getAccDescription:Pn,addSection:ns,getSections:rs,getTasks:is,addTask:us,findTaskById:Ft,addTaskOrg:fs,setIncludes:Ji,getIncludes:$i,setExcludes:Ki,getExcludes:ts,setClickEvent:ms,setLink:hs,getLinks:es,bindFunctions:gs,parseDuration:Sn,isInvalidDate:Mn,setWeekday:ss,getWeekday:as};function En(t,e,n){let r=!0;for(;r;)r=!1,n.forEach(function(s){const o="^\\s*"+s+"\\s*$",c=new RegExp(o);t[0].match(c)&&(e[s]=!0,t.shift(1),r=!0)})}i(En,"getTaskTags");const ks=i(function(){de.debug("Something is calling, setConf, remove the call")},"setConf"),Je={monday:Ot,tuesday:mn,wednesday:gn,thursday:Tt,friday:yn,saturday:kn,sunday:zt},ps=i((t,e)=>{let n=[...t].map(()=>-1/0),r=[...t].sort((o,c)=>o.startTime-c.startTime||o.order-c.order),s=0;for(const o of r)for(let c=0;c<n.length;c++)if(o.startTime>=n[c]){n[c]=o.endTime,o.order=c+e,c>s&&(s=c);break}return s},"getMaxIntersections");let ft;const Ts=i(function(t,e,n,r){const s=Mt().gantt,o=Mt().securityLevel;let c;o==="sandbox"&&(c=Zt("#i"+e));const y=o==="sandbox"?Zt(c.nodes()[0].contentDocument.body):Zt("body"),S=o==="sandbox"?c.nodes()[0].contentDocument:document,k=S.getElementById(e);ft=k.parentElement.offsetWidth,ft===void 0&&(ft=1200),s.useWidth!==void 0&&(ft=s.useWidth);const M=r.db.getTasks();let F=[];for(const b of M)F.push(b.type);F=W(F);const C={};let w=2*s.topPadding;if(r.db.getDisplayMode()==="compact"||s.displayMode==="compact"){const b={};for(const _ of M)b[_.section]===void 0?b[_.section]=[_]:b[_.section].push(_);let U=0;for(const _ of Object.keys(b)){const D=ps(b[_],U)+1;U+=D,w+=D*(s.barHeight+s.barGap),C[_]=D}}else{w+=M.length*(s.barHeight+s.barGap);for(const b of F)C[b]=M.filter(U=>U.type===b).length}k.setAttribute("viewBox","0 0 "+ft+" "+w);const X=y.select(`[id="${e}"]`),m=_i().domain([er(M,function(b){return b.startTime}),tr(M,function(b){return b.endTime})]).rangeRound([0,ft-s.leftPadding-s.rightPadding]);function E(b,U){const _=b.startTime,D=U.startTime;let T=0;return _>D?T=1:_<D&&(T=-1),T}i(E,"taskCompare"),M.sort(E),N(M,ft,w),qn(X,w,ft,s.useMaxWidth),X.append("text").text(r.db.getDiagramTitle()).attr("x",ft/2).attr("y",s.titleTopMargin).attr("class","titleText");function N(b,U,_){const D=s.barHeight,T=D+s.barGap,O=s.topPadding,A=s.leftPadding,L=$n().domain([0,F.length]).range(["#00B9FA","#F95002"]).interpolate(yr);Z(T,O,A,U,_,b,r.db.getExcludes(),r.db.getIncludes()),q(A,O,U,_),z(b,T,O,A,D,L,U),j(T,O),x(A,O,U,_)}i(N,"makeGant");function z(b,U,_,D,T,O,A){const d=[...new Set(b.map(u=>u.order))].map(u=>b.find(a=>a.order===u));X.append("g").selectAll("rect").data(d).enter().append("rect").attr("x",0).attr("y",function(u,a){return a=u.order,a*U+_-2}).attr("width",function(){return A-s.rightPadding/2}).attr("height",U).attr("class",function(u){for(const[a,B]of F.entries())if(u.type===B)return"section section"+a%s.numberSectionStyles;return"section section0"});const p=X.append("g").selectAll("rect").data(b).enter(),v=r.db.getLinks();if(p.append("rect").attr("id",function(u){return u.id}).attr("rx",3).attr("ry",3).attr("x",function(u){return u.milestone?m(u.startTime)+D+.5*(m(u.endTime)-m(u.startTime))-.5*T:m(u.startTime)+D}).attr("y",function(u,a){return a=u.order,a*U+_}).attr("width",function(u){return u.milestone?T:m(u.renderEndTime||u.endTime)-m(u.startTime)}).attr("height",T).attr("transform-origin",function(u,a){return a=u.order,(m(u.startTime)+D+.5*(m(u.endTime)-m(u.startTime))).toString()+"px "+(a*U+_+.5*T).toString()+"px"}).attr("class",function(u){const a="task";let B="";u.classes.length>0&&(B=u.classes.join(" "));let l=0;for(const[J,G]of F.entries())u.type===G&&(l=J%s.numberSectionStyles);let H="";return u.active?u.crit?H+=" activeCrit":H=" active":u.done?u.crit?H=" doneCrit":H=" done":u.crit&&(H+=" crit"),H.length===0&&(H=" task"),u.milestone&&(H=" milestone "+H),H+=l,H+=" "+B,a+H}),p.append("text").attr("id",function(u){return u.id+"-text"}).text(function(u){return u.task}).attr("font-size",s.fontSize).attr("x",function(u){let a=m(u.startTime),B=m(u.renderEndTime||u.endTime);u.milestone&&(a+=.5*(m(u.endTime)-m(u.startTime))-.5*T),u.milestone&&(B=a+T);const l=this.getBBox().width;return l>B-a?B+l+1.5*s.leftPadding>A?a+D-5:B+D+5:(B-a)/2+a+D}).attr("y",function(u,a){return a=u.order,a*U+s.barHeight/2+(s.fontSize/2-2)+_}).attr("text-height",T).attr("class",function(u){const a=m(u.startTime);let B=m(u.endTime);u.milestone&&(B=a+T);const l=this.getBBox().width;let H="";u.classes.length>0&&(H=u.classes.join(" "));let J=0;for(const[ot,ct]of F.entries())u.type===ct&&(J=ot%s.numberSectionStyles);let G="";return u.active&&(u.crit?G="activeCritText"+J:G="activeText"+J),u.done?u.crit?G=G+" doneCritText"+J:G=G+" doneText"+J:u.crit&&(G=G+" critText"+J),u.milestone&&(G+=" milestoneText"),l>B-a?B+l+1.5*s.leftPadding>A?H+" taskTextOutsideLeft taskTextOutside"+J+" "+G:H+" taskTextOutsideRight taskTextOutside"+J+" "+G+" width-"+l:H+" taskText taskText"+J+" "+G+" width-"+l}),Mt().securityLevel==="sandbox"){let u;u=Zt("#i"+e);const a=u.nodes()[0].contentDocument;p.filter(function(B){return v[B.id]!==void 0}).each(function(B){var l=a.querySelector("#"+B.id),H=a.querySelector("#"+B.id+"-text");const J=l.parentNode;var G=a.createElement("a");G.setAttribute("xlink:href",v[B.id]),G.setAttribute("target","_top"),J.appendChild(G),G.appendChild(l),G.appendChild(H)})}}i(z,"drawRects");function Z(b,U,_,D,T,O,A,L){const d=O.reduce((l,{startTime:H})=>l?Math.min(l,H):H,0),p=O.reduce((l,{endTime:H})=>l?Math.max(l,H):H,0),v=r.db.getDateFormat();if(!d||!p)return;const g=[];let u=null,a=rt(d);for(;a.valueOf()<=p;)r.db.isInvalidDate(a,v,A,L)?u?u.end=a:u={start:a,end:a}:u&&(g.push(u),u=null),a=a.add(1,"d");X.append("g").selectAll("rect").data(g).enter().append("rect").attr("id",function(l){return"exclude-"+l.start.format("YYYY-MM-DD")}).attr("x",function(l){return m(l.start)+_}).attr("y",s.gridLineStartPadding).attr("width",function(l){const H=l.end.add(1,"day");return m(H)-m(l.start)}).attr("height",T-U-s.gridLineStartPadding).attr("transform-origin",function(l,H){return(m(l.start)+_+.5*(m(l.end)-m(l.start))).toString()+"px "+(H*b+.5*T).toString()+"px"}).attr("class","exclude-range")}i(Z,"drawExcludeDays");function q(b,U,_,D){let T=lr(m).tickSize(-D+U+s.gridLineStartPadding).tickFormat(Kt(r.db.getAxisFormat()||s.axisFormat||"%Y-%m-%d"));const A=/^([1-9]\d*)(minute|hour|day|week|month)$/.exec(r.db.getTickInterval()||s.tickInterval);if(A!==null){const L=A[1],d=A[2],p=r.db.getWeekday()||s.weekday;switch(d){case"minute":T.ticks(It.every(L));break;case"hour":T.ticks(Wt.every(L));break;case"day":T.ticks(pt.every(L));break;case"week":T.ticks(Je[p].every(L));break;case"month":T.ticks(Ht.every(L));break}}if(X.append("g").attr("class","grid").attr("transform","translate("+b+", "+(D-50)+")").call(T).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),r.db.topAxisEnabled()||s.topAxis){let L=cr(m).tickSize(-D+U+s.gridLineStartPadding).tickFormat(Kt(r.db.getAxisFormat()||s.axisFormat||"%Y-%m-%d"));if(A!==null){const d=A[1],p=A[2],v=r.db.getWeekday()||s.weekday;switch(p){case"minute":L.ticks(It.every(d));break;case"hour":L.ticks(Wt.every(d));break;case"day":L.ticks(pt.every(d));break;case"week":L.ticks(Je[v].every(d));break;case"month":L.ticks(Ht.every(d));break}}X.append("g").attr("class","grid").attr("transform","translate("+b+", "+U+")").call(L).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}i(q,"makeGrid");function j(b,U){let _=0;const D=Object.keys(C).map(T=>[T,C[T]]);X.append("g").selectAll("text").data(D).enter().append(function(T){const O=T[0].split(Xn.lineBreakRegex),A=-(O.length-1)/2,L=S.createElementNS("http://www.w3.org/2000/svg","text");L.setAttribute("dy",A+"em");for(const[d,p]of O.entries()){const v=S.createElementNS("http://www.w3.org/2000/svg","tspan");v.setAttribute("alignment-baseline","central"),v.setAttribute("x","10"),d>0&&v.setAttribute("dy","1em"),v.textContent=p,L.appendChild(v)}return L}).attr("x",10).attr("y",function(T,O){if(O>0)for(let A=0;A<O;A++)return _+=D[O-1][1],T[1]*b/2+_*b+U;else return T[1]*b/2+U}).attr("font-size",s.sectionFontSize).attr("class",function(T){for(const[O,A]of F.entries())if(T[0]===A)return"sectionTitle sectionTitle"+O%s.numberSectionStyles;return"sectionTitle"})}i(j,"vertLabels");function x(b,U,_,D){const T=r.db.getTodayMarker();if(T==="off")return;const O=X.append("g").attr("class","today"),A=new Date,L=O.append("line");L.attr("x1",m(A)+b).attr("x2",m(A)+b).attr("y1",s.titleTopMargin).attr("y2",D-s.titleTopMargin).attr("class","today"),T!==""&&L.attr("style",T.replace(/,/g,";"))}i(x,"drawToday");function W(b){const U={},_=[];for(let D=0,T=b.length;D<T;++D)Object.prototype.hasOwnProperty.call(U,b[D])||(U[b[D]]=!0,_.push(b[D]));return _}i(W,"checkUnique")},"draw"),vs={setConf:ks,draw:Ts},bs=i(t=>`
  .mermaid-main-font {
    font-family: "trebuchet ms", verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  .exclude-range {
    fill: ${t.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${t.sectionBkgColor};
  }

  .section2 {
    fill: ${t.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${t.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${t.titleColor};
  }

  .sectionTitle1 {
    fill: ${t.titleColor};
  }

  .sectionTitle2 {
    fill: ${t.titleColor};
  }

  .sectionTitle3 {
    fill: ${t.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    // font-size: ${t.ganttFontSize};
    // text-height: 14px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${t.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
    text {
      font-family: ${t.fontFamily};
      fill: ${t.textColor};
    }
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${t.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }

  // .taskText:not([font-size]) {
  //   font-size: ${t.ganttFontSize};
  // }

  .taskTextOutsideRight {
    fill: ${t.taskTextDarkColor};
    text-anchor: start;
    // font-size: ${t.ganttFontSize};
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }

  .taskTextOutsideLeft {
    fill: ${t.taskTextDarkColor};
    text-anchor: end;
    // font-size: ${t.ganttFontSize};
  }

  /* Special case clickable */
  .task.clickable {
    cursor: pointer;
  }
  .taskText.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }

  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${t.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${t.taskBkgColor};
    stroke: ${t.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${t.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${t.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${t.activeTaskBkgColor};
    stroke: ${t.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${t.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${t.doneTaskBorderColor};
    fill: ${t.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${t.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${t.taskTextDarkColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${t.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor}    ;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
`,"getStyles"),xs=bs,As={parser:Ai,db:ys,renderer:vs,styles:xs};export{As as diagram};
//# sourceMappingURL=ganttDiagram-60845bff-4f843463.js.map
