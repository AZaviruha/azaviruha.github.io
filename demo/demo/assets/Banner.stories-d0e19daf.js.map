{"version":3,"file":"Banner.stories-d0e19daf.js","sources":["../../src/UI/Banner/LockIcon.tsx","../../src/UI/Banner/styles.ts","../../src/UI/Banner/index.tsx","../../src/UI/Banner/Banner.stories.mdx"],"sourcesContent":["import { FC } from 'react'\n\n/**\n * DD-NOTE: used solely for Storybook testing\n */\n\nconst LockIcon: FC = () => {\n  return (\n    <svg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'>\n      <g clipPath='url(#clip0_44454_53948)'>\n        <path\n          d='M18 8H17V6C17 3.24 14.76 1 12 1C9.24 1 7 3.24 7 6V8H6C4.9 8 4 8.9 4 10V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V10C20 8.9 19.1 8 18 8ZM12 17C10.9 17 10 16.1 10 15C10 13.9 10.9 13 12 13C13.1 13 14 13.9 14 15C14 16.1 13.1 17 12 17ZM15.1 8H8.9V6C8.9 4.29 10.29 2.9 12 2.9C13.71 2.9 15.1 4.29 15.1 6V8Z'\n          fill='#458FFF'\n        />\n      </g>\n      <defs>\n        <clipPath id='clip0_44454_53948'>\n          <rect width='24' height='24' fill='white' />\n        </clipPath>\n      </defs>\n    </svg>\n\n  )\n}\n\nexport default LockIcon\n","import { css } from '@emotion/css'\n\nconst ColorMap = {\n  blue: '#458FFF',\n  red: '#B00020',\n  green: '#219653'\n}\n\nexport const BANNER_OPEN_CLS = 'cf-banner-appeared'\n\n/**\n * Animating Banner we try to avoid extra reflow and repaints.\n * Therefore we immitate height animation using opacity and scale.\n *\n * But after scale change space from component height/margin/padding is still left on the page\n * even if component takes 0px space after scale(0).\n *\n * To fix that we still need max-height transition which if not always helps avoid reflows.\n * But that trick does not work with margins/paddings, so we immitate vertical margins and paddings\n * using :after and :before pseudoselectors.\n */\n\nexport default css(`\n  &:after {\n    content: '';\n    height: 24px;\n    display: block;\n  }\n\n  height: auto;\n  transform: scale(0.5);\n  opacity: 0;\n  max-height: 0px;\n\n  transition: opacity, transform, max-height;\n  transition-duration: 200ms, 250ms, 0ms;\n  transition-delay: 0ms, 0ms, 250ms;\n  transition-timing-function: ease-out;\n\n  &.${BANNER_OPEN_CLS} {\n    transform: scale(1);\n    opacity: 1;\n    max-height: 500px;\n    transition-delay: 0ms;\n  }\n\n  .cf-banner-content {\n    display: flex;\n    align-items: center;\n    flex-wrap: nowrap;\n\n    box-sizing: border-box;\n    border-radius: 12px;\n    padding: 0px 8px;\n    \n    @media (min-width: 768px) {\n      padding: 0px 20px;\n    }\n\n    &.cf-banner-type-error {\n      border: 1px solid ${ColorMap.red};\n      background: #FFF4F6;\n\n      & * {\n        color: ${ColorMap.red};\n        fill: ${ColorMap.red};\n      }\n    }\n\n    &.cf-banner-type-info {\n      border: 1px solid ${ColorMap.blue};\n      background: #ECF4FF;\n\n      & * {\n        color: ${ColorMap.blue};\n        fill: ${ColorMap.blue};\n      }\n    }\n\n    &.cf-banner-type-success {\n      border: 1px solid ${ColorMap.green};\n      background: #E9F4E9;\n\n      & * {\n        color: ${ColorMap.green};\n        fill: ${ColorMap.green};\n      }\n    }\n\n    .cf-banner-start-adornment {\n      justify-self: flex-start;\n      height: 24px;\n    }\n\n    .cf-banner-message {\n      font-family: Roboto, sans-serif;\n      font-size: 16px;\n      font-weight: 400;\n      line-height: 24px;\n\n      margin: 0 12px;\n\n      &:after, &:before {\n        content: '';\n        height: 16px;\n        display: block;\n      }\n    }\n\n    .cf-banner-end-adornment {\n      margin-left: auto;\n      margin-right: 12px;\n      font-family: Roboto, sans-serif;\n      font-size: 16px;\n      font-weight: 500;\n      line-height: 24px;\n    }\n  }\n`)\n","import { FC, ReactNode, useEffect, useRef } from 'react'\n\nimport { cn } from '@utils/ui'\nimport CLASS_NAME, { BANNER_OPEN_CLS } from './styles'\n\nexport type BannerType = 'error' | 'info' | 'success'\n\nexport interface BannerProps {\n  message: ReactNode\n  isOpen?: boolean\n  type?: BannerType\n  className?: string\n  isScrolledIntoView?: boolean\n  startAdornment?: ReactNode\n  endAdornment?: ReactNode\n  dataTestId?: string\n}\n\n/**\n * By default only 'error' Banners are scrolled into view.\n *\n * It is better if Banner is always present in DOM for 'close' animations.\n * When closed it does not take any height.\n */\nexport const Banner: FC<BannerProps> = ({\n  message,\n  isOpen = true,\n  type = 'info',\n  isScrolledIntoView = type === 'error',\n  className,\n  startAdornment,\n  endAdornment,\n  dataTestId\n}) => {\n  const elRef = useRef<HTMLDivElement | null>(null)\n\n  useEffect(() => {\n    if (isOpen) {\n      elRef?.current?.classList.add(BANNER_OPEN_CLS)\n    } else {\n      elRef?.current?.classList.remove(BANNER_OPEN_CLS)\n    }\n  }, [isOpen])\n\n  useEffect(() => {\n    if (isOpen && isScrolledIntoView) {\n      elRef?.current?.scrollIntoView({ block: 'center', behavior: 'smooth' })\n    }\n  }, [isOpen, isScrolledIntoView])\n\n  return (\n    <div\n      ref={elRef}\n      className={cn(CLASS_NAME, className)}\n      data-testid={dataTestId} // for React Testing Library\n      data-test-id={dataTestId} // for our E2E tests\n    >\n      <div className={cn('cf-banner-content', `cf-banner-type-${type}`)}>\n        {\n          startAdornment != null && (\n            <div className='cf-banner-start-adornment'>\n              {startAdornment}\n            </div>\n          )\n        }\n\n        <div className='cf-banner-message'>{message}</div>\n\n        {\n          endAdornment != null && (\n            <div className='cf-banner-end-adornment'>\n              {endAdornment}\n            </div>\n          )\n        }\n      </div>\n    </div>\n  )\n}\n\nexport default Banner\n","import { Meta, Story } from '@storybook/addon-docs'\nimport LockIcon from './LockIcon'\nimport Banner from './'\n\n<Meta title='Banner' component={Banner} />\n\n# Banner\n\nA simple component that shows info/error/success information on top of the page.\n\n<Story name='Success Example'>\n  <Banner\n    startAdornment={<LockIcon color='green' />}\n    type='success'\n    isOpen\n    message='All right!'\n    endAdornment={<a href='https://google.com' target='_blank' rel='noopener noreferrer'>Review</a>}\n  />\n</Story>\n\n<Story name='Info Example'>\n  <Banner\n    startAdornment={<LockIcon />}\n    type='info'\n    isOpen\n    message='Customer lost as of 01/09/2022 11:30 AM. Do not call.'\n    endAdornment={<a href='https://google.com' target='_blank' rel='noopener noreferrer'>Review</a>}\n  />\n</Story>\n\n<Story name='Error Example'>\n  <Banner\n    startAdornment={<LockIcon color='red' />}\n    type='error'\n    isOpen\n    message='Something went wrong with your payment. Please try again.'\n    endAdornment={<a href='https://google.com' target='_blank' rel='noopener noreferrer'>Review</a>}\n  />\n</Story>\n"],"names":["LockIcon","__name","_jsxs","_jsx","ColorMap","BANNER_OPEN_CLS","CLASS_NAME","css","Banner","message","type","isScrolledIntoView","className","startAdornment","endAdornment","elRef","useRef","useEffect","isOpen","dataTestId","cn","layoutProps","MDXLayout","MDXContent","components","props","mdx","Meta","Story","isMDXComponent","successExample","storyName","parameters","storySource","source","infoExample","errorExample","componentMeta","title","component","includeStories","mdxStoryNameToKey","docs","page","AddContext","__namedExportsOrder"],"mappings":"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"}